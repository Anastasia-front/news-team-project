!function(){function e(e,t){if(null!==t)for(var n=0;n<t.length;n+=1)if(t[n].url===e.url)return!0}var t=[];function n(e){var n=document.querySelectorAll(".card-news__btn-like"),a=document.querySelectorAll(".card-news__add-to-favorite-btn"),s=document.querySelectorAll(".card-news__icon-like");n.forEach((function(e,t){var n=!1;e.addEventListener("click",(function(){n?(a[t].textContent="Add to favorite",s[t].style.fill="",e.classList.remove("favorite"),n=!1):(a[t].textContent="Remove from favorite",s[t].style.fill="var(--color1, #4440f7)",e.classList.add("favorite"),n=!0)}))})),n.forEach((function(n,a){var s=!1;n.addEventListener("click",(function(){if(s){var n=t.findIndex((function(t){return t.headline===e[a].headline}));-1!==n&&(t.splice(n,1),localStorage.setItem("favoriteCards",JSON.stringify(t))),s=!1}else t.push({headline:e[a].headline,abstract:e[a].abstract,category:e[a].category,pub_date:e[a].pub_date,photo:e[a].photo,url:e[a].url}),localStorage.setItem("favoriteCards",JSON.stringify(t)),s=!0}))}))}function a(e){return e.map((function(e){return'<li class="card-news__item">\n <img class="card-news__img" src="'.concat(e.photo,'" alt="" loading="lazy" />\n <span class="card-news__categories">').concat(e.category,'</span>\n <button class="card-news__btn-like">\n   <span class="card-news__add-to-favorite-btn"\n     >Add to favorite\n   </span>\n   <svg\n       class="card-news__icon-like"\n       width="16"\n       height="16"\n       viewBox="0 0 37 32"\n     >\n       <path\n         style="stroke: var(--color1, #4440f7)"\n         stroke-linejoin="round"\n         stroke-linecap="round"\n         stroke-miterlimit="4"\n         stroke-width="2.2857"\n         d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n       ></path>\n     </svg>\n </button>\n <div class="card-news__wrapper">\n   <h3 class="card-news__caption">').concat(e.headline,'</h3>\n   <p class="card-news__text">').concat(e.abstract,'</p>\n </div>\n <div class="card-news__box">\n   <span class="card-news__time">').concat(e.pub_date,'</span>\n   <a class="card-news__link" target="_blank" href="').concat(e.url,'">Read more</a>\n </div>\n </li>')})).join("")}var s=document.querySelector(".date-list-search"),r=document.querySelector(".date-list-search"),i=document.querySelector(".search-form"),l=document.querySelector(".search-input"),o=document.querySelector(".undefined"),c=JSON.parse(localStorage.getItem("readCards"));var d,u,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n={},a=!0,s=!1,r=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var o=i.value,c=t(o);n[c]?n[c].push(o):n[c]=[o]}}catch(e){s=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(s)throw r}}return n}(function(){if(null!==c)return c;o.style.display="block"}(),(function(e){return e.dayRead}));u=v,d=Object.keys(u).map((function(e){return'<li class="date-list__item">\n  <button class="date-list__btn"><span class="date-list__btn-text">'.concat(e,'</span><span class="date-list__btn-block">\n  <svg class="date-list__btn-icon" width="14" height="9" aria-hidden="true" style="position: absolute;>\n<symbol id="icon-Vector-2-1" viewBox="0 0 50 32">\n<path d="M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class="list-news hidden">').concat(a(u[e]),"</ul>\n</li>")})).join(""),s.innerHTML=d,document.querySelectorAll(".date-list__item").forEach((function(t){n(c);e(t,JSON.parse(localStorage.getItem("favoriteCards")))&&"favorite"})),s.addEventListener("click",(function(e){var t=e.target.closest(".date-list__btn");if(t){var n=t.querySelector(".date-list__btn-block"),a=document.querySelector(".list-news");a.classList.contains("hidden")?(a.classList.remove("hidden"),n.classList.add("turn")):(a.classList.add("hidden"),n.classList.remove("turn")),t.nextElementSibling.classList.toggle("hidden")}})),i.addEventListener("submit",(function(e){if(e.preventDefault(),""!==l.value.trim())return s.classList.add("hidden"),o.style.display="block",r.classList.add("hidden"),void(f=[]);s.classList.remove("hidden"),o.style.display="none",r.classList.remove("hidden");for(var t=l.value.toLowerCase(),n=0;n<c.length;n+=1){var i=c[n];(i.abstract.toLowerCase().includes(t)||i.headline.toLowerCase().includes(t)||i.category.toLowerCase().includes(t)||i.category.toLowerCase()===t)&&f.push(i)}if(0===f.length)return s.classList.add("hidden"),r.classList.add("hidden"),o.style.display="block",void(f=[]);o.style.display="none",s.classList.remove("hidden"),r.classList.remove("hidden"),function(e){r.innerHTML=e,f=[]}(a(f))}));var f=[]}();
//# sourceMappingURL=read.8e767fc4.js.map
