!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register("4253W",(function(e,t){var n=a("vq5Dr"),r=a("6RKBQ"),i=a("gAn2u"),l=document.querySelector(".undefined"),o=document.querySelector(".search-input");document.querySelector(".search-form").addEventListener("submit",(function(e){e.preventDefault();var t=o.value.toLowerCase().trim(),n=JSON.parse(localStorage.getItem("favoriteCards"));if(null!==n){var r=function(e,t){return e.reduce((function(e,n){return(n.headline.toLowerCase().includes(t)||n.abstract.toLowerCase().includes(t)||n.category.toLowerCase().includes(t))&&e.push(n),e}),[])}(n,t);if(0===r.length)return s.innerHTML="",void(l.style.display="block");""!==t&&null!==t||(l.style.display="block");var a=d(r);s.innerHTML=a,l.style.display="none"}}));var s=document.querySelector(".card-news");s.addEventListener("click",(function(e){var t=e.target.closest(".card-news__add-to-favorite-btn");if(!t)return;c||(l.style.display="block");for(var n=t.parentNode.nextElementSibling.firstElementChild.textContent,r=0;r<c.length;r+=1)c[r].headline===n&&c.splice(r,1);if(localStorage.setItem("favoriteCards",JSON.stringify(c)),t.parentNode.parentNode.remove(),0===s.childElementCount)return void(l.style.display="block")}));var c=JSON.parse(localStorage.getItem("favoriteCards"));function d(e){var t=e.map((function(e){var t="",r="hidden",a=JSON.parse(localStorage.getItem("readCards"));!0===(0,n.checkLokalStorage)(e,a)&&(t="opacity",r="");var i="",l="",o=JSON.parse(localStorage.getItem("favoriteCards"));return!0===(0,n.checkLokalStorage)(e,o)?(l="favorite",i="Remove from favorite"):i="Add to favorite",'<li class="card-news__item ">\n        <img class="card-news__img '.concat(t,'" src="').concat(e.photo,'" alt="" loading="lazy" />\n        <span class="card-news__categories">').concat(e.category,'</span>\n        <span class="card-news__read ').concat(r,' ">Already read \n      <svg\n              class="icon-read"\n              width="15"\n              height="15"\n              viewBox="0 0 43 32"\n            >\n            <path fill="#00dd73" style="fill: var(--color1, #00dd73)" d="M40.502 1.584c-0.415 0.012-0.81 0.186-1.1 0.484l-24.469 24.469-10.069-10.069c-0.147-0.154-0.324-0.276-0.519-0.361s-0.406-0.129-0.619-0.131c-0.213-0.002-0.424 0.038-0.621 0.119s-0.376 0.199-0.527 0.35c-0.151 0.151-0.269 0.33-0.35 0.527s-0.121 0.408-0.119 0.621c0.002 0.213 0.047 0.423 0.131 0.619s0.207 0.372 0.361 0.519l11.2 11.2c0.3 0.3 0.707 0.469 1.131 0.469s0.831-0.169 1.131-0.469l25.6-25.6c0.231-0.225 0.389-0.514 0.453-0.83s0.031-0.644-0.095-0.941c-0.126-0.297-0.338-0.549-0.609-0.723s-0.589-0.262-0.911-0.253z"></path>\n            </svg></span>\n        <button class="card-news__btn-like ').concat(l,'">\n          <span class="card-news__add-to-favorite-btn"\n            >').concat(i,'\n          </span>\n          <svg\n              class="card-news__icon-like"\n              width="16"\n              height="16"\n              viewBox="0 0 37 32"\n            >\n              <path\n                style="stroke: var(--color1, #4440f7)"\n                stroke-linejoin="round"\n                stroke-linecap="round"\n                stroke-miterlimit="4"\n                stroke-width="2.2857"\n                d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n              ></path>\n            </svg>\n        </button>\n        <div class="card-news__wrapper">\n          <h3 class="card-news__caption">').concat(e.headline,'</h3>\n          <p class="card-news__text">').concat(e.abstract,'</p>\n        </div>\n        <div class="card-news__box">\n          <span class="card-news__time">').concat(e.pub_date,'</span>\n          <a class="card-news__link" target="_blank" href="').concat(e.url,'">Read more</a>\n        </div>\n        </li>')})).join("");return(0,r.btnLike)(),(0,i.btnRead)(t),t}null!==c?function(){if(null!==localStorage.getItem("favoriteCards")){if(0===JSON.parse(localStorage.getItem("favoriteCards")).length)return console.log("error"),void(l.style.display="block");var e=d(JSON.parse(localStorage.getItem("favoriteCards")));s.insertAdjacentHTML("beforeend",e)}}():l.style.display="block"})),a.register("vq5Dr",(function(t,n){function r(e,t){if(null!==t)for(var n=0;n<t.length;n+=1)if(t[n].url===e.url)return!0}e(t.exports,"checkLokalStorage",(function(){return r}))})),a.register("6RKBQ",(function(t,n){function r(){document.querySelectorAll(".card-news__item").forEach((function(e){e.addEventListener("click",n)}));var e=[];function t(){e=null!==JSON.parse(localStorage.getItem("favoriteCards"))?JSON.parse(localStorage.getItem("favoriteCards")):[]}function n(n){var r=n.target.closest(".card-news__btn-like"),a=r.querySelector(".card-news__add-to-favorite-btn");if(r){if(t(),!r.classList.contains("favorite"))return r.classList.add("favorite"),a.textContent="Remove from favorite",void function(n){t();for(var r={headline:n.nextElementSibling.firstElementChild.textContent,abstract:n.nextElementSibling.lastElementChild.textContent,category:n.previousElementSibling.previousElementSibling.innerHTML,pub_date:n.nextElementSibling.nextElementSibling.firstElementChild.innerText,photo:n.previousElementSibling.previousElementSibling.previousElementSibling.currentSrc,url:n.nextElementSibling.nextElementSibling.lastElementChild.href,favorite:"true"},a=0;a<e.length;a+=1)if(e[a].url===r.url)return;e.push(r),localStorage.setItem("favoriteCards",JSON.stringify(e))}(r);r.classList.remove("favorite"),a.textContent="Add to favorite";for(var i=r.nextElementSibling.firstElementChild.textContent,l=0;l<e.length;l+=1)e[l].headline===i&&e.splice(l,1);localStorage.setItem("favoriteCards",JSON.stringify(e))}}t()}e(t.exports,"btnLike",(function(){return r}))})),a.register("gAn2u",(function(t,n){function r(e){var t=[],n=document.querySelectorAll(".card-news__link"),r=document.querySelectorAll(".card-news__read"),a=document.querySelectorAll(".card-news__img");return n.forEach((function(e,t){var n=!1;e.addEventListener("click",(function(){n?(a[t].classList.remove("opacity"),n=!1):(r[t].classList.remove("hidden"),a[t].classList.add("opacity"),n=!0)}))})),n.forEach((function(n,r){var a=!1;n.addEventListener("click",(function(){a||(t.push(i(e[r])),localStorage.setItem("readCards",JSON.stringify(t)),a=!0)}))})),t}e(t.exports,"btnRead",(function(){return r})),document.querySelector(".card-news").addEventListener("click",(function(e){var t=e.target.closest(".card-news__link");if(!t)return;i(t)}));var a=[];function i(e){for(var t=(new Date).toLocaleDateString([],{year:"numeric",month:"numeric",day:"numeric"}).replaceAll(".","/"),n={headline:e.parentNode.previousElementSibling.firstElementChild.innerText,abstract:e.parentNode.previousElementSibling.lastElementChild.innerText,category:e.parentNode.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.innerHTML,pub_date:e.previousElementSibling.innerText,photo:e.parentNode.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.currentSrc,url:e.href,dayRead:t},r=0;r<a.length;r+=1)if(a[r].url===n.url)return;a.push(n),localStorage.setItem("readCards",JSON.stringify(a))}!function(){if(null===JSON.parse(localStorage.getItem("readCards")))return;a=JSON.parse(localStorage.getItem("readCards"))}()})),a("4253W")}();
//# sourceMappingURL=favorite.af8ea62d.js.map
