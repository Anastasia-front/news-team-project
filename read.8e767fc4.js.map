{"mappings":"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","sources":["src/JS/news/check-local-storage.js","src/JS/news/btn-favorite.js","src/JS/news/markup-of-card.js","src/JS/news/read.js"],"sourcesContent":["export function checkLokalStorage(elem, localArr) {\n  if (localArr === null) {\n    return;\n  }\n  for (let i = 0; i < localArr.length; i += 1) {\n    if (localArr[i].url === elem.url) {\n      return true;\n    }\n  }\n}\nexport function checkLokalArray(localArr) {\n  if (localArr === null) return;\n  else {\n    localStorage.setItem(\"favoriteCards\", JSON.stringify(localArr));\n  }\n}\n","import { checkLokalArray } from \"./check-local-storage\";\nexport const favoriteCards = [];\nexport function btnLike(newArray) {\n  const btnLike = document.querySelectorAll(\".card-news__btn-like\");\n  const spanAdd = document.querySelectorAll(\".card-news__add-to-favorite-btn\");\n  const iconLike = document.querySelectorAll(\".card-news__icon-like\");\n\n  btnLike.forEach((btn, index) => {\n    let isFavorite = false; // начальное значение\n\n    btn.addEventListener(\"click\", () => {\n      if (!isFavorite) {\n        spanAdd[index].textContent = \"Remove from favorite\";\n        iconLike[index].style.fill = \"var(--color1, #4440f7)\";\n        btn.classList.add(\"favorite\"); // добавить класс\n        isFavorite = true; // обновить значение\n      } else {\n        spanAdd[index].textContent = \"Add to favorite\";\n        iconLike[index].style.fill = \"\";\n        btn.classList.remove(\"favorite\"); // убрать класс\n        isFavorite = false; // обновить значение\n      }\n    });\n  });\n\n  btnLike.forEach((btn, index) => {\n    let isFavorite = false;\n    // let localFavorite = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n    // checkLokalArray(localFavorite);\n    btn.addEventListener(\"click\", () => {\n      if (!isFavorite) {\n        // Добавляем информацию о карточке в массив\n        favoriteCards.push({\n          headline: newArray[index].headline,\n          abstract: newArray[index].abstract,\n          category: newArray[index].category,\n          pub_date: newArray[index].pub_date,\n          photo: newArray[index].photo,\n          url: newArray[index].url,\n        });\n        // Обновляем локальное хранилище\n        localStorage.setItem(\"favoriteCards\", JSON.stringify(favoriteCards));\n        isFavorite = true;\n        //   }\n        // });\n      } else {\n        // Удаляем информацию о карточке из массива\n        const cardIndex = favoriteCards.findIndex(\n          card => card.headline === newArray[index].headline\n        );\n        if (cardIndex !== -1) {\n          favoriteCards.splice(cardIndex, 1);\n          // Обновляем локальное хранилище\n          localStorage.setItem(\"favoriteCards\", JSON.stringify(favoriteCards));\n        }\n        isFavorite = false;\n      }\n    });\n  });\n}\n\n// const cardNews = document.querySelector(\".card-news\");\n// cardNews.addEventListener(\"click\", btnAddToFavorite);\n// let newLocalStorage = [];\n\n// function isLocalEmpty() {\n//   if (JSON.parse(localStorage.getItem(\"favoriteCards\")) === null) {\n//     newLocalStorage = [];\n//     return;\n//   }\n//   newLocalStorage = JSON.parse(localStorage.getItem(\"favoriteCards\"));\n// }\n// isLocalEmpty();\n\n// function btnAddToFavorite(event) {\n//   const btn = event.target.closest(`.card-news__btn-like`);\n//   if (!btn) return;\n//   isLocalEmpty();\n//   let title = btn.nextElementSibling.firstElementChild.textContent;\n//   if (!btn.classList.contains(\"favorite\")) {\n//     btn.classList.add(\"favorite\");\n//     addToFavoriteLocal(btn);\n//     return;\n//   }\n//   btn.classList.remove(\"favorite\");\n//   for (let i = 0; i < newLocalStorage.length; i += 1) {\n//     if (newLocalStorage[i].headline === title) {\n//       newLocalStorage.splice(i, 1);\n//     }\n//   }\n//   localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n// }\n\n// function addToFavoriteLocal(btn) {\n//   const favoriteCards = {\n//     headline: btn.nextElementSibling.firstElementChild.textContent,\n//     abstract: btn.nextElementSibling.lastElementChild.textContent,\n//     category: btn.previousElementSibling.innerHTML,\n//     pub_date:\n//       btn.nextElementSibling.nextElementSibling.firstElementChild.innerText,\n//     photo: btn.previousElementSibling.previousElementSibling.currentSrc,\n//     url: btn.nextElementSibling.nextElementSibling.lastElementChild.href,\n//     favorite: \"true\",\n//   };\n//   for (let i = 0; i < newLocalStorage.length; i += 1) {\n//     if (newLocalStorage[i].url === favoriteCards.url) return;\n//   }\n\n//   newLocalStorage.push(favoriteCards);\n//   localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n// }\n","export function markupOfCard(arr) {\n  const mark = arr\n    .map(array => {\n      return `<li class=\"card-news__item\">\n <img class=\"card-news__img\" src=\"${array.photo}\" alt=\"\" loading=\"lazy\" />\n <span class=\"card-news__categories\">${array.category}</span>\n <button class=\"card-news__btn-like\">\n   <span class=\"card-news__add-to-favorite-btn\"\n     >Add to favorite\n   </span>\n   <svg\n       class=\"card-news__icon-like\"\n       width=\"16\"\n       height=\"16\"\n       viewBox=\"0 0 37 32\"\n     >\n       <path\n         style=\"stroke: var(--color1, #4440f7)\"\n         stroke-linejoin=\"round\"\n         stroke-linecap=\"round\"\n         stroke-miterlimit=\"4\"\n         stroke-width=\"2.2857\"\n         d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"\n       ></path>\n     </svg>\n </button>\n <div class=\"card-news__wrapper\">\n   <h3 class=\"card-news__caption\">${array.headline}</h3>\n   <p class=\"card-news__text\">${array.abstract}</p>\n </div>\n <div class=\"card-news__box\">\n   <span class=\"card-news__time\">${array.pub_date}</span>\n   <a class=\"card-news__link\" target=\"_blank\" href=\"${array.url}\">Read more</a>\n </div>\n </li>`;\n    })\n    .join(\"\");\n  return mark;\n}\n","import { btnLike } from './btn-favorite';\nimport { markupOfCard } from './markup-of-card';\nimport { checkLokalStorage } from './check-local-storage';\n\nconst dateListEl = document.querySelector('.date-list-search');\nconst readListSearchEl = document.querySelector('.date-list-search');\nconst readFormEl = document.querySelector('.search-form');\nconst readInputEl = document.querySelector('.search-input');\nconst undefinedImages = document.querySelector('.undefined');\n\nconst localData = JSON.parse(localStorage.getItem('readCards'));\n\nfunction arrLocal() {\n  if (localData === null) {\n    undefinedImages.style.display = 'block';\n    return;\n  }\n  return localData;\n}\n\nfunction sortDateReadMore(array = [], callback) {\n  const groupByDate = {};\n  for (const objectEl of array) {\n    const key = callback(objectEl);\n    if (groupByDate[key]) {\n      groupByDate[key].push(objectEl);\n    } else {\n      groupByDate[key] = [objectEl];\n    }\n  }\n  return groupByDate;\n}\n\nconst sortDate = sortDateReadMore(arrLocal(), objectEl => objectEl.dayRead);\nmarkupDateRead(sortDate);\nfunction markupDateRead(date) {\n  const markupBlockDate = Object.keys(date)\n    .map(key => {\n      return `<li class=\"date-list__item\">\n  <button class=\"date-list__btn\"><span class=\"date-list__btn-text\">${key}</span><span class=\"date-list__btn-block\">\n  <svg class=\"date-list__btn-icon\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n<symbol id=\"icon-Vector-2-1\" viewBox=\"0 0 50 32\">\n<path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class=\"list-news hidden\">${markupOfCard(date[key])}</ul>\n</li>`;\n    })\n    .join('');\n  createMarkupLoadMore(markupBlockDate);\n}\n\nconst dateListItem = document.querySelectorAll('.date-list__item');\n// dateListItem[0].classList.add(\"hidden\");\n\ndateListItem.forEach(element => {\n  btnLike(localData);\n  let spanAdd = '';\n  let hiddenSpan = '';\n  let localFavorite = JSON.parse(localStorage.getItem('favoriteCards'));\n  let checkFavorite = checkLokalStorage(element, localFavorite);\n  if (checkFavorite) {\n    hiddenSpan = 'favorite';\n    spanAdd = 'Remove from favorite';\n  } else {\n    spanAdd = 'Add to favorite';\n  }\n});\n\ndateListEl.addEventListener('click', event => {\n  const btn = event.target.closest(`.date-list__btn`);\n  if (!btn) return;\n\n  const iconDate = btn.querySelector('.date-list__btn-block');\n  const listNews = document.querySelector('.list-news');\n  if (listNews.classList.contains('hidden')) {\n    listNews.classList.remove('hidden');\n    iconDate.classList.add('turn');\n  } else {\n    listNews.classList.add('hidden');\n    iconDate.classList.remove('turn');\n  }\n  btn.nextElementSibling.classList.toggle('hidden');\n  return;\n});\n\nfunction createMarkupLoadMore(markupBlockDate) {\n  dateListEl.innerHTML = markupBlockDate;\n}\n\nreadFormEl.addEventListener('submit', form);\n\nlet newArrForMarkupSearch = [];\nfunction form(event) {\n  event.preventDefault();\n\n  if (readInputEl.value.trim() !== '') {\n    dateListEl.classList.add('hidden');\n    undefinedImages.style.display = 'block';\n    readListSearchEl.classList.add('hidden');\n    newArrForMarkupSearch = [];\n    return;\n  } else {\n    dateListEl.classList.remove('hidden');\n    undefinedImages.style.display = 'none';\n    readListSearchEl.classList.remove('hidden');\n  }\n\n  const inputValue = readInputEl.value.toLowerCase();\n\n  for (let i = 0; i < localData.length; i += 1) {\n    let iteration = localData[i];\n    if (\n      iteration.abstract.toLowerCase().includes(inputValue) ||\n      iteration.headline.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase() === inputValue\n    ) {\n      newArrForMarkupSearch.push(iteration);\n    }\n  }\n  if (newArrForMarkupSearch.length === 0) {\n    dateListEl.classList.add('hidden');\n    readListSearchEl.classList.add('hidden');\n    undefinedImages.style.display = 'block';\n    newArrForMarkupSearch = [];\n    return;\n  }\n  undefinedImages.style.display = 'none';\n  dateListEl.classList.remove('hidden');\n  readListSearchEl.classList.remove('hidden');\n\n  const markupBlockReadSearch = markupOfCard(newArrForMarkupSearch);\n\n  createMarkupLoad(markupBlockReadSearch);\n}\n\nfunction createMarkupLoad(markupBlockDate) {\n  readListSearchEl.innerHTML = markupBlockDate;\n  newArrForMarkupSearch = [];\n}\n"],"names":["$05e722461ef34e5d$export$6fa34716b1f69ee4","elem","localArr","i","length","url","$4ffbd8fc0ac1383a$export$57a5be14e400305a","$4ffbd8fc0ac1383a$export$71556dfd7ea0c273","newArray","btnLike1","document","querySelectorAll","spanAdd","iconLike","forEach","btn","index","isFavorite","addEventListener","textContent","style","fill","classList","remove","add","cardIndex","findIndex","card","headline","splice","localStorage","setItem","JSON","stringify","push","abstract","category","pub_date","photo","$ec5c269ae80325d7$export$2555d8523cd97054","arr","map","array","concat","join","$d43340dc628f5748$var$dateListEl","querySelector","$d43340dc628f5748$var$readListSearchEl","$d43340dc628f5748$var$readFormEl","$d43340dc628f5748$var$readInputEl","$d43340dc628f5748$var$undefinedImages","$d43340dc628f5748$var$localData","parse","getItem","markupBlockDate","date","$d43340dc628f5748$var$sortDate","arguments","callback","groupByDate","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","objectEl","value","key","err","return","$d43340dc628f5748$var$sortDateReadMore","display","$d43340dc628f5748$var$arrLocal","dayRead","Object","keys","innerHTML","element","event","target","closest","iconDate","listNews","contains","nextElementSibling","toggle","preventDefault","trim","$d43340dc628f5748$var$newArrForMarkupSearch","inputValue","toLowerCase","iteration","includes","$d43340dc628f5748$var$createMarkupLoad"],"version":3,"file":"read.8e767fc4.js.map"}