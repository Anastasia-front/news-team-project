!function(){function e(e){return e.map((function(e){return'<li class="card-news__item">\n <img class="card-news__img" src="'.concat(e.photo,'" alt="" loading="lazy" />\n <span class="card-news__categories">').concat(e.category,'</span>\n <button class="card-news__btn-like">\n   <span class="card-news__add-to-favorite-btn"\n     >Add to favorite\n   </span>\n   <svg\n       class="card-news__icon-like"\n       width="16"\n       height="16"\n       viewBox="0 0 37 32"\n     >\n       <path\n         style="stroke: var(--color1, #4440f7)"\n         stroke-linejoin="round"\n         stroke-linecap="round"\n         stroke-miterlimit="4"\n         stroke-width="2.2857"\n         d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n       ></path>\n     </svg>\n </button>\n <div class="card-news__wrapper">\n   <h3 class="card-news__caption">').concat(e.headline,'</h3>\n   <p class="card-news__text">').concat(e.abstract,'</p>\n </div>\n <div class="card-news__box">\n   <span class="card-news__time">').concat(e.pub_date,'</span>\n   <a class="card-news__link" target="_blank" href="').concat(e.url,'">Read more</a>\n </div>\n </li>')})).join("")}var t=document.querySelector(".date-list"),n=document.querySelector(".date-list-search"),a=document.querySelector(".search-form"),r=document.querySelector(".search-input"),i=document.querySelector(".undefined"),l=JSON.parse(localStorage.getItem("readCards"));var s,o,c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n={},a=!0,r=!1,i=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var o=l.value,c=t(o);n[c]?n[c].push(o):n[c]=[o]}}catch(e){r=!0,i=e}finally{try{a||null==s.return||s.return()}finally{if(r)throw i}}return n}(function(){if(null!==l)return l;i.style.display="block"}(),(function(e){return e.dayRead}));o=c,s=Object.keys(o).map((function(t){return'<li class="date-list__item">\n  <button class="date-list__btn"><span class="date-list__btn-text">'.concat(t,'</span><span class="date-list__btn-block">\n  <svg class="date-list__btn-icon" width="14" height="9" aria-hidden="true" style="position: absolute;>\n<symbol id="icon-Vector-2-1" viewBox="0 0 50 32">\n<path d="M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class="list-news hidden">').concat(e(o[t]),"</ul>\n</li>")})).join(""),t.innerHTML=s,function(){var e=document.querySelectorAll(".date-list__item"),t=document.querySelectorAll(".date-list__btn-text"),n=[],a=[],r=0;t.forEach((function(e){var t=e.innerHTML.split("/"),a=new Date(+t[2],t[1]-1,+t[0]);r=a.getTime(),n.push(r)})),n.sort((function(e,t){return t-e})).forEach((function(e){var t=new Date(e),n=t.getDate().toString().padStart(2,"0")+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getFullYear().toString();a.push(n)}));for(var i=0;i<t.length;i++)if(t[i].innerHTML===a[a.length-1]){var l=e[i];l.parentNode.appendChild(l)}for(var s=0;s<t.length;s++)if(t[s].innerHTML===a[s]){var o=e[s];o.parentNode.prepend(o)}for(var c=0;c<t.length;c++)if(t[c].innerHTML===a[c]){var d=e[c],u=e[c+1];d.parentNode.insertBefore(u,d)}}(),t.addEventListener("click",(function(e){var t=e.target.closest(".date-list__btn");if(t){var n=t.querySelector(".date-list__btn-block"),a=document.querySelectorAll(".turn"),r=document.querySelectorAll(".list-news");if(!t.nextElementSibling.classList.contains("hidden"))return t.nextElementSibling.classList.add("hidden"),void t.lastElementChild.classList.remove("turn");void Array.from(r).filter((function(e){e.classList.contains("hidden")}))||r.forEach((function(e){e.classList.add("hidden")})),t.nextElementSibling.classList.toggle("hidden"),n.classList.toggle("turn"),a.forEach((function(e){e!==t.lastElementChild&&e.classList.remove("turn")}))}})),a.addEventListener("submit",(function(a){if(a.preventDefault(),""===r.value.trim())return t.classList.remove("hidden"),i.style.display="none",void n.classList.add("hidden");t.classList.remove("hidden"),i.style.display="block",n.classList.add("hidden"),d=[];for(var s=r.value.toLowerCase(),o=0;o<l.length;o+=1){var c=l[o];(c.abstract.toLowerCase().includes(s)||c.headline.toLowerCase().includes(s)||c.category.toLowerCase().includes(s)||c.category.toLowerCase()===s)&&d.push(c)}if(0===d.length)return t.classList.add("hidden"),n.classList.add("hidden"),i.style.display="block",void(d=[]);i.style.display="none",t.classList.add("hidden"),n.classList.remove("hidden"),function(e){n.innerHTML=e,d=[]}(e(d))}));var d=[];document.querySelectorAll(".card-news__item").forEach((function(e){e.addEventListener("click",v);for(var t=e.querySelector(".card-news__add-to-favorite-btn"),n=e.querySelector(".card-news__btn-like"),a=JSON.parse(localStorage.getItem("favoriteCards")),r=null,i=0;i<a.length;i++){var l=a[i];e.lastElementChild.lastElementChild.href===l.url&&(r=e.lastElementChild.lastElementChild.href===l.url)}r?(n.classList.add("favorite"),t.innerHTML="Remove from favorite"):(n.classList.remove("favorite"),t.innerHTML="Add to favorite")}));var u=[];function f(){u=null!==JSON.parse(localStorage.getItem("favoriteCards"))?JSON.parse(localStorage.getItem("favoriteCards")):[]}function v(e){var t=e.target.closest(".card-news__btn-like"),n=t.querySelector(".card-news__add-to-favorite-btn");if(t){if(f(),!t.classList.contains("favorite"))return t.classList.add("favorite"),n.textContent="Remove from favorite",void function(e){for(var t={headline:e.nextElementSibling.firstElementChild.textContent,abstract:e.nextElementSibling.lastElementChild.textContent,category:e.previousElementSibling.innerHTML,pub_date:e.nextElementSibling.nextElementSibling.firstElementChild.innerText,photo:e.previousElementSibling.previousElementSibling.currentSrc,url:e.nextElementSibling.nextElementSibling.lastElementChild.href,favorite:"true"},n=0;n<u.length;n+=1)if(u[n].url===t.url)return;u.push(t),localStorage.setItem("favoriteCards",JSON.stringify(u))}(t);t.classList.remove("favorite"),n.textContent="Add to favorite";for(var a=t.nextElementSibling.firstElementChild.textContent,r=0;r<u.length;r+=1)u[r].headline===a&&u.splice(r,1);localStorage.setItem("favoriteCards",JSON.stringify(u))}}f()}();
//# sourceMappingURL=read.d2ddd93c.js.map
