function e(e){return e.map((e=>`<li class="card-news__item">\n <img class="card-news__img" src="${e.photo}" alt="" loading="lazy" />\n <span class="card-news__categories">${e.category}</span>\n <button class="card-news__btn-like">\n   <span class="card-news__add-to-favorite-btn"\n     >Add to favorite\n   </span>\n   <svg\n       class="card-news__icon-like"\n       width="16"\n       height="16"\n       viewBox="0 0 37 32"\n     >\n       <path\n         style="stroke: var(--color1, #4440f7)"\n         stroke-linejoin="round"\n         stroke-linecap="round"\n         stroke-miterlimit="4"\n         stroke-width="2.2857"\n         d="M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z"\n       ></path>\n     </svg>\n </button>\n <div class="card-news__wrapper">\n   <h3 class="card-news__caption">${e.headline}</h3>\n   <p class="card-news__text">${e.abstract}</p>\n </div>\n <div class="card-news__box">\n   <span class="card-news__time">${e.pub_date}</span>\n   <a class="card-news__link" target="_blank" href="${e.url}">Read more</a>\n </div>\n </li>`)).join("")}const t=document.querySelector(".date-list"),n=document.querySelector(".date-list-search"),s=document.querySelector(".search-form"),l=document.querySelector(".search-input"),i=document.querySelector(".undefined"),a=JSON.parse(localStorage.getItem("readCards"));const r=function(e=[],t){const n={};for(const s of e){const e=t(s);n[e]?n[e].push(s):n[e]=[s]}return n}(function(){if(null!==a)return a;i.style.display="block"}(),(e=>e.dayRead));var o,d;d=r,o=Object.keys(d).map((t=>`<li class="date-list__item">\n  <button class="date-list__btn"><span class="date-list__btn-text">${t}</span><span class="date-list__btn-block">\n  <svg class="date-list__btn-icon" width="14" height="9" aria-hidden="true" style="position: absolute;>\n<symbol id="icon-Vector-2-1" viewBox="0 0 50 32">\n<path d="M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class="list-news hidden">${e(d[t])}</ul>\n</li>`)).join(""),t.innerHTML=o,function(){const e=document.querySelectorAll(".date-list__item"),t=document.querySelectorAll(".date-list__btn-text"),n=[],s=[];let l=0;t.forEach((e=>{let t=e.innerHTML.split("/"),s=new Date(+t[2],t[1]-1,+t[0]);l=s.getTime(),n.push(l)})),n.sort(((e,t)=>t-e)).forEach((e=>{let t=new Date(e),n=t.getDate().toString().padStart(2,"0")+"/"+(t.getMonth()+1).toString().padStart(2,"0")+"/"+t.getFullYear().toString();s.push(n)}));for(let n=0;n<t.length;n++)if(t[n].innerHTML===s[s.length-1]){const t=e[n];t.parentNode.appendChild(t)}for(let n=0;n<t.length;n++)if(t[n].innerHTML===s[n]){const t=e[n];t.parentNode.prepend(t)}}(),t.addEventListener("click",(e=>{const t=e.target.closest(".date-list__btn");if(!t)return;const n=t.querySelector(".date-list__btn-block"),s=document.querySelectorAll(".turn"),l=document.querySelectorAll(".list-news");if(!t.nextElementSibling.classList.contains("hidden"))return t.nextElementSibling.classList.add("hidden"),void t.lastElementChild.classList.remove("turn");void Array.from(l).filter((e=>{e.classList.contains("hidden")}))||l.forEach((e=>{e.classList.add("hidden")})),t.nextElementSibling.classList.toggle("hidden"),n.classList.toggle("turn"),s.forEach((e=>{e!==t.lastElementChild&&e.classList.remove("turn")}))})),s.addEventListener("submit",(function(s){if(s.preventDefault(),""===l.value.trim())return t.classList.remove("hidden"),i.style.display="none",void n.classList.add("hidden");t.classList.remove("hidden"),i.style.display="block",n.classList.add("hidden"),c=[];const r=l.value.toLowerCase();for(let e=0;e<a.length;e+=1){let t=a[e];(t.abstract.toLowerCase().includes(r)||t.headline.toLowerCase().includes(r)||t.category.toLowerCase().includes(r)||t.category.toLowerCase()===r)&&c.push(t)}if(0===c.length)return t.classList.add("hidden"),n.classList.add("hidden"),i.style.display="block",void(c=[]);i.style.display="none",t.classList.add("hidden"),n.classList.remove("hidden");!function(e){n.innerHTML=e,c=[]}(e(c))}));let c=[];document.querySelectorAll(".card-news__item").forEach((e=>{e.addEventListener("click",m);let t=e.querySelector(".card-news__add-to-favorite-btn"),n=e.querySelector(".card-news__btn-like"),s=JSON.parse(localStorage.getItem("favoriteCards")),l=null;for(let t=0;t<s.length;t++){const n=s[t];e.lastElementChild.lastElementChild.href===n.url&&(l=e.lastElementChild.lastElementChild.href===n.url)}l?(n.classList.add("favorite"),t.innerHTML="Remove from favorite"):(n.classList.remove("favorite"),t.innerHTML="Add to favorite")}));let u=[];function h(){u=null!==JSON.parse(localStorage.getItem("favoriteCards"))?JSON.parse(localStorage.getItem("favoriteCards")):[]}function m(e){const t=e.target.closest(".card-news__btn-like"),n=t.querySelector(".card-news__add-to-favorite-btn");if(!t)return;if(h(),!t.classList.contains("favorite"))return t.classList.add("favorite"),n.textContent="Remove from favorite",void function(e){const t={headline:e.nextElementSibling.firstElementChild.textContent,abstract:e.nextElementSibling.lastElementChild.textContent,category:e.previousElementSibling.innerHTML,pub_date:e.nextElementSibling.nextElementSibling.firstElementChild.innerText,photo:e.previousElementSibling.previousElementSibling.currentSrc,url:e.nextElementSibling.nextElementSibling.lastElementChild.href,favorite:"true"};for(let e=0;e<u.length;e+=1)if(u[e].url===t.url)return;u.push(t),localStorage.setItem("favoriteCards",JSON.stringify(u))}(t);t.classList.remove("favorite"),n.textContent="Add to favorite";let s=t.nextElementSibling.firstElementChild.textContent;for(let e=0;e<u.length;e+=1)u[e].headline===s&&u.splice(e,1);localStorage.setItem("favoriteCards",JSON.stringify(u))}h();
//# sourceMappingURL=read.9878884a.js.map
