{"mappings":"AAAO,SAASA,EAAaC,GAqC3B,OApCaA,EACVC,KAAIC,GACI,mEACuBA,EAAMC,yEACHD,EAAME,80BAsBTF,EAAMG,gDACVH,EAAMI,0FAGHJ,EAAMK,wEACaL,EAAMM,wCAIvDC,KAAK,G,CClCV,MAAMC,EAAaC,SAASC,cAAc,cACpCC,EAAmBF,SAASC,cAAc,qBAC1CE,EAAaH,SAASC,cAAc,gBACpCG,EAAcJ,SAASC,cAAc,iBACrCI,EAAkBL,SAASC,cAAc,cAEzCK,EAAYC,KAAKC,MAAMC,aAAaC,QAAQ,cAuBlD,MAAMC,EAbN,SAA0BpB,EAAQ,GAAIqB,GACpC,MAAMC,EAAc,GACpB,IAAK,MAAMC,KAAYvB,EAAO,CAC5B,MAAMwB,EAAMH,EAASE,GACjBD,EAAYE,GACdF,EAAYE,GAAKC,KAAKF,GAEtBD,EAAYE,GAAO,CAACD,E,CAGxB,OAAOD,C,CAGQI,CArBjB,WACE,GAAkB,OAAdX,EAIJ,OAAOA,EAHLD,EAAgBa,MAAMC,QAAU,O,CAmBFC,IAAYN,GAAYA,EAASO,UAsHnE,IAA8BC,EAnHNC,IADTZ,EAoHeW,EAlHJE,OAAOC,KAAKF,GACjCjC,KAAIyB,GACI,oGACwDA,8XAOpC3B,EAAamC,EAAKR,oBAG9CjB,KAAK,IAsGRC,EAAW2B,UAAYJ,EAjGzB,WACE,MAAMK,EAAe3B,SAAS4B,iBAAiB,oBACzCC,EAAW7B,SAAS4B,iBAAiB,wBACrCE,EAAU,GACVC,EAAW,GACjB,IAAIC,EAAe,EACnBH,EAASI,SAAQC,IACf,IACIC,EADaD,EAAQR,UACEU,MAAM,KAC7Bb,EAAO,IAAIc,MAAMF,EAAU,GAAIA,EAAU,GAAK,GAAIA,EAAU,IAChEH,EAAeT,EAAKe,UACpBR,EAAQd,KAAKgB,EAAa,IAGTF,EAAQS,MAAK,CAACC,EAAGC,IAAMA,EAAID,IAEnCP,SAAQC,IACjB,IAAIQ,EAAU,IAAIL,KAAKH,GAInBS,EAHMD,EAAQE,UAAUC,WAAWC,SAAS,EAAG,KAGrB,KAFjBJ,EAAQK,WAAa,GAAGF,WAAWC,SAAS,EAAG,KAEhB,IADjCJ,EAAQM,cAAcH,WAEjCd,EAASf,KAAK2B,EAAkB,IAGlC,IAAK,IAAIM,EAAQ,EAAGA,EAAQpB,EAASqB,OAAQD,IAE3C,GADgBpB,EAASoB,GACbvB,YAAcK,EAASA,EAASmB,OAAS,GAAI,CACvD,MAAMC,EAAWxB,EAAasB,GACfE,EAASC,WACjBC,YAAYF,E,CAMvB,IAAK,IAAIG,EAAQ,EAAGA,EAAQzB,EAASqB,OAAQI,IAE3C,GADgBzB,EAASyB,GACb5B,YAAcK,EAASuB,GAE5B,CACL,MAAMC,EAAY5B,EAAa2B,GAChBC,EAAUH,WAClBI,QAAQD,E,EA9CnBE,GAgEF1D,EAAW2D,iBAAiB,SAASC,IACnC,MAAMC,EAAMD,EAAME,OAAOC,QAAQ,mBACjC,IAAKF,EAAK,OAEV,MAAMG,EAAWH,EAAI3D,cAAc,yBAC7B+D,EAAYhE,SAAS4B,iBAAiB,SACtCqC,EAAWjE,SAAS4B,iBAAiB,cAE3C,IAAKgC,EAAIM,mBAAmBC,UAAUC,SAAS,UAG7C,OAFAR,EAAIM,mBAAmBC,UAAUE,IAAI,eACrCT,EAAIU,iBAAiBH,UAAUI,OAAO,aAUtBC,MAAMC,KAAKR,GALvBS,QAAOC,IACTA,EAAKR,UAAUC,SAAS,SAAS,KAKnCH,EAAShC,SAAQ2C,IACfA,EAAKT,UAAUE,IAAI,SAAS,IAGhCT,EAAIM,mBAAmBC,UAAUU,OAAO,UACxCd,EAASI,UAAUU,OAAO,QAE1Bb,EAAU/B,SAAQ6C,IACZA,IAASlB,EAAIU,kBACfQ,EAAKX,UAAUI,OAAO,OAAO,GAE/B,IASJpE,EAAWuD,iBAAiB,UAI5B,SAAcC,GAGZ,GAFAA,EAAMoB,iBAE2B,KAA7B3E,EAAY4E,MAAMC,OAIpB,OAHAlF,EAAWoE,UAAUI,OAAO,UAC5BlE,EAAgBa,MAAMC,QAAU,YAChCjB,EAAiBiE,UAAUE,IAAI,UAG/BtE,EAAWoE,UAAUI,OAAO,UAC5BlE,EAAgBa,MAAMC,QAAU,QAChCjB,EAAiBiE,UAAUE,IAAI,UAC/Ba,EAAwB,GAG1B,MAAMC,EAAa/E,EAAY4E,MAAMI,cAErC,IAAK,IAAIC,EAAI,EAAGA,EAAI/E,EAAU4C,OAAQmC,GAAK,EAAG,CAC5C,IAAIC,EAAYhF,EAAU+E,IAExBC,EAAU3F,SAASyF,cAAcG,SAASJ,IAC1CG,EAAU5F,SAAS0F,cAAcG,SAASJ,IAC1CG,EAAU7F,SAAS2F,cAAcG,SAASJ,IAC1CG,EAAU7F,SAAS2F,gBAAkBD,IAErCD,EAAsBlE,KAAKsE,E,CAG/B,GAAqC,IAAjCJ,EAAsBhC,OAKxB,OAJAnD,EAAWoE,UAAUE,IAAI,UACzBnE,EAAiBiE,UAAUE,IAAI,UAC/BhE,EAAgBa,MAAMC,QAAU,aAChC+D,EAAwB,IAG1B7E,EAAgBa,MAAMC,QAAU,OAChCpB,EAAWoE,UAAUE,IAAI,UACzBnE,EAAiBiE,UAAUI,OAAO,WAOpC,SAA0BjD,GACxBpB,EAAiBwB,UAAYJ,EAC7B4D,EAAwB,E,CALxBM,CAF8BpG,EAAa8F,G,IAzC7C,IAAIA,EAAwB,GAmDXlF,SAAS4B,iBAAiB,oBAClCK,SAAQC,IACfA,EAAQwB,iBAAiB,QAAS+B,GAClC,IAAIC,EAAUxD,EAAQjC,cAAc,mCAChC0F,EAAazD,EAAQjC,cAAc,wBACnC2F,EAAgBrF,KAAKC,MAAMC,aAAaC,QAAQ,kBAChDmF,EAAgB,KACpB,IAAK,IAAI5C,EAAQ,EAAGA,EAAQ2C,EAAc1C,OAAQD,IAAS,CACzD,MAAM6C,EAAMF,EAAc3C,GACtBf,EAAQoC,iBAAiBA,iBAAiByB,OAASD,EAAIjG,MAG3DgG,EAAgB3D,EAAQoC,iBAAiBA,iBAAiByB,OAASD,EAAIjG,I,CAErEgG,GACFF,EAAWxB,UAAUE,IAAI,YACzBqB,EAAQhE,UAAY,yBAEpBiE,EAAWxB,UAAUI,OAAO,YAC5BmB,EAAQhE,UAAY,kB,IAIxB,IAAIsE,EAAkB,GAEtB,SAASC,IAKPD,EAJ0D,OAAtDzF,KAAKC,MAAMC,aAAaC,QAAQ,kBAIlBH,KAAKC,MAAMC,aAAaC,QAAQ,kBAH9B,E,CAOtB,SAAS+E,EAAiB9B,GACxB,MAAMC,EAAMD,EAAME,OAAOC,QAAQ,wBAC3BoC,EAAOtC,EAAI3D,cAAc,mCAC/B,IAAK2D,EAAK,OAGV,GAFAqC,KAEKrC,EAAIO,UAAUC,SAAS,YAI1B,OAHAR,EAAIO,UAAUE,IAAI,YAClB6B,EAAKC,YAAc,4BAevB,SAA4BvC,GAC1B,MAAMwC,EAAgB,CACpB1G,SAAUkE,EAAIM,mBAAmBmC,kBAAkBF,YACnDxG,SAAUiE,EAAIM,mBAAmBI,iBAAiB6B,YAClD1G,SAAUmE,EAAI0C,uBAAuB5E,UACrC9B,SACEgE,EAAIM,mBAAmBA,mBAAmBmC,kBAAkBE,UAC9D/G,MAAOoE,EAAI0C,uBAAuBA,uBAAuBE,WACzD3G,IAAK+D,EAAIM,mBAAmBA,mBAAmBI,iBAAiByB,KAChEU,SAAU,QAEZ,IAAK,IAAIpB,EAAI,EAAGA,EAAIW,EAAgB9C,OAAQmC,GAAK,EAC/C,GAAIW,EAAgBX,GAAGxF,MAAQuG,EAAcvG,IAAK,OAGpDmG,EAAgBhF,KAAKoF,GACrB3F,aAAaiG,QAAQ,gBAAiBnG,KAAKoG,UAAUX,G,CA9BnDY,CAAmBhD,GAGrBA,EAAIO,UAAUI,OAAO,YACrB2B,EAAKC,YAAc,kBACnB,IAAIU,EAAQjD,EAAIM,mBAAmBmC,kBAAkBF,YACrD,IAAK,IAAId,EAAI,EAAGA,EAAIW,EAAgB9C,OAAQmC,GAAK,EAC3CW,EAAgBX,GAAG3F,WAAamH,GAClCb,EAAgBc,OAAOzB,EAAG,GAG9B5E,aAAaiG,QAAQ,gBAAiBnG,KAAKoG,UAAUX,G,CAtBvDC","sources":["src/JS/news/markup-of-card.js","src/JS/news/read.js"],"sourcesContent":["export function markupOfCard(arr) {\n  const mark = arr\n    .map(array => {\n      return `<li class=\"card-news__item\">\n <img class=\"card-news__img\" src=\"${array.photo}\" alt=\"\" loading=\"lazy\" />\n <span class=\"card-news__categories\">${array.category}</span>\n <button class=\"card-news__btn-like\">\n   <span class=\"card-news__add-to-favorite-btn\"\n     >Add to favorite\n   </span>\n   <svg\n       class=\"card-news__icon-like\"\n       width=\"16\"\n       height=\"16\"\n       viewBox=\"0 0 37 32\"\n     >\n       <path\n         style=\"stroke: var(--color1, #4440f7)\"\n         stroke-linejoin=\"round\"\n         stroke-linecap=\"round\"\n         stroke-miterlimit=\"4\"\n         stroke-width=\"2.2857\"\n         d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"\n       ></path>\n     </svg>\n </button>\n <div class=\"card-news__wrapper\">\n   <h3 class=\"card-news__caption\">${array.headline}</h3>\n   <p class=\"card-news__text\">${array.abstract}</p>\n </div>\n <div class=\"card-news__box\">\n   <span class=\"card-news__time\">${array.pub_date}</span>\n   <a class=\"card-news__link\" target=\"_blank\" href=\"${array.url}\">Read more</a>\n </div>\n </li>`;\n    })\n    .join(\"\");\n  return mark;\n}\n","import { markupOfCard } from './markup-of-card';\n\nconst dateListEl = document.querySelector('.date-list');\nconst readListSearchEl = document.querySelector('.date-list-search');\nconst readFormEl = document.querySelector('.search-form');\nconst readInputEl = document.querySelector('.search-input');\nconst undefinedImages = document.querySelector('.undefined');\n\nconst localData = JSON.parse(localStorage.getItem('readCards'));\n\nfunction arrLocal() {\n  if (localData === null) {\n    undefinedImages.style.display = 'block';\n    return;\n  }\n  return localData;\n}\n\nfunction sortDateReadMore(array = [], callback) {\n  const groupByDate = {};\n  for (const objectEl of array) {\n    const key = callback(objectEl);\n    if (groupByDate[key]) {\n      groupByDate[key].push(objectEl);\n    } else {\n      groupByDate[key] = [objectEl];\n    }\n  }\n  return groupByDate;\n}\n\nconst sortDate = sortDateReadMore(arrLocal(), objectEl => objectEl.dayRead);\n\nmarkupDateRead(sortDate);\nfunction markupDateRead(date) {\n  const markupBlockDate = Object.keys(date)\n    .map(key => {\n      return `<li class=\"date-list__item\">\n  <button class=\"date-list__btn\"><span class=\"date-list__btn-text\">${key}</span><span class=\"date-list__btn-block\">\n  <svg class=\"date-list__btn-icon\" width=\"14\" height=\"9\" aria-hidden=\"true\" style=\"position: absolute;>\n<symbol id=\"icon-Vector-2-1\" viewBox=\"0 0 50 32\">\n<path d=\"M5.867 0l-5.867 6.080 24.889 25.92 24.889-25.92-5.831-6.080-19.058 19.769-19.058-19.769z\"></path>\n</symbol>\n</svg></span>\n  </button>\n  <ul class=\"list-news hidden\">${markupOfCard(date[key])}</ul>\n</li>`;\n    })\n    .join('');\n  createMarkupLoadMore(markupBlockDate);\n  sortItem();\n}\n\nfunction sortItem() {\n  const dateListItem = document.querySelectorAll('.date-list__item');\n  const textDate = document.querySelectorAll('.date-list__btn-text');\n  const dateArr = [];\n  const sortDate = [];\n  let milliseconds = 0;\n  textDate.forEach(element => {\n    let dateString = element.innerHTML;\n    let dateParts = dateString.split('/');\n    let date = new Date(+dateParts[2], dateParts[1] - 1, +dateParts[0]);\n    milliseconds = date.getTime();\n    dateArr.push(milliseconds);\n  });\n\n  const filterDate = dateArr.sort((a, b) => b - a);\n\n  filterDate.forEach(element => {\n    let newDate = new Date(element);\n    let day = newDate.getDate().toString().padStart(2, '0');\n    let month = (newDate.getMonth() + 1).toString().padStart(2, '0');\n    let year = newDate.getFullYear().toString();\n    let reverseDateString = day + '/' + month + '/' + year;\n    sortDate.push(reverseDateString);\n  });\n  // ----------lastItem------------\n  for (let index = 0; index < textDate.length; index++) {\n    const element = textDate[index];\n    if (element.innerHTML === sortDate[sortDate.length - 1]) {\n      const lastItem = dateListItem[index];\n      const parent = lastItem.parentNode;\n      parent.appendChild(lastItem);\n    } else {\n      continue;\n    }\n  }\n  // ----------firstItem------------\n  for (let index = 0; index < textDate.length; index++) {\n    const element = textDate[index];\n    if (element.innerHTML !== sortDate[index]) {\n      continue;\n    } else {\n      const firstItem = dateListItem[index];\n      const parent = firstItem.parentNode;\n      parent.prepend(firstItem);\n    }\n  }\n  // ----------center------------\n  // for (let index = 0; index < textDate.length; index++) {\n  //   const element = textDate[index];\n  //   if (element.innerHTML !== sortDate[index]) {\n  //     continue;\n  //   } else {\n  //     const block1 = dateListItem[index];\n  //     const block2 = dateListItem[index + 1];\n  //     const parent = block1.parentNode;\n  //     parent.insertBefore(block2, block1);\n  //   }\n  // }\n}\n// ------------------------ACCORDION-----------------------\n\ndateListEl.addEventListener('click', event => {\n  const btn = event.target.closest('.date-list__btn');\n  if (!btn) return;\n\n  const iconDate = btn.querySelector('.date-list__btn-block');\n  const iconsDate = document.querySelectorAll('.turn');\n  const listNews = document.querySelectorAll('.list-news');\n\n  if (!btn.nextElementSibling.classList.contains('hidden')) {\n    btn.nextElementSibling.classList.add('hidden');\n    btn.lastElementChild.classList.remove('turn');\n    return;\n  }\n\n  function isHiddenItem(arr) {\n    arr.filter(list => {\n      list.classList.contains('hidden');\n    });\n  }\n\n  if (!isHiddenItem(Array.from(listNews))) {\n    listNews.forEach(elem => {\n      elem.classList.add('hidden');\n    });\n  }\n  btn.nextElementSibling.classList.toggle('hidden');\n  iconDate.classList.toggle('turn');\n\n  iconsDate.forEach(icon => {\n    if (icon !== btn.lastElementChild) {\n      icon.classList.remove('turn');\n    }\n  });\n});\n\nfunction createMarkupLoadMore(markupBlockDate) {\n  dateListEl.innerHTML = markupBlockDate;\n}\n\n// ------------------------SEARCH-----------------------\n\nreadFormEl.addEventListener('submit', form);\n\nlet newArrForMarkupSearch = [];\n\nfunction form(event) {\n  event.preventDefault();\n\n  if (readInputEl.value.trim() === '') {\n    dateListEl.classList.remove('hidden');\n    undefinedImages.style.display = 'none';\n    readListSearchEl.classList.add('hidden');\n    return;\n  } else {\n    dateListEl.classList.remove('hidden');\n    undefinedImages.style.display = 'block';\n    readListSearchEl.classList.add('hidden');\n    newArrForMarkupSearch = [];\n  }\n\n  const inputValue = readInputEl.value.toLowerCase();\n\n  for (let i = 0; i < localData.length; i += 1) {\n    let iteration = localData[i];\n    if (\n      iteration.abstract.toLowerCase().includes(inputValue) ||\n      iteration.headline.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase().includes(inputValue) ||\n      iteration.category.toLowerCase() === inputValue\n    ) {\n      newArrForMarkupSearch.push(iteration);\n    }\n  }\n  if (newArrForMarkupSearch.length === 0) {\n    dateListEl.classList.add('hidden');\n    readListSearchEl.classList.add('hidden');\n    undefinedImages.style.display = 'block';\n    newArrForMarkupSearch = [];\n    return;\n  }\n  undefinedImages.style.display = 'none';\n  dateListEl.classList.add('hidden');\n  readListSearchEl.classList.remove('hidden');\n\n  const markupBlockReadSearch = markupOfCard(newArrForMarkupSearch);\n\n  createMarkupLoad(markupBlockReadSearch);\n}\n\nfunction createMarkupLoad(markupBlockDate) {\n  readListSearchEl.innerHTML = markupBlockDate;\n  newArrForMarkupSearch = [];\n}\n// ------------------------ADD-TO-FAVORITE-----------------------\nconst cardNews = document.querySelectorAll('.card-news__item');\ncardNews.forEach(element => {\n  element.addEventListener('click', btnAddToFavorite);\n  let spanAdd = element.querySelector('.card-news__add-to-favorite-btn');\n  let hiddenSpan = element.querySelector('.card-news__btn-like');\n  let localFavorite = JSON.parse(localStorage.getItem('favoriteCards'));\n  let checkFavorite = null;\n  for (let index = 0; index < localFavorite.length; index++) {\n    const fav = localFavorite[index];\n    if (element.lastElementChild.lastElementChild.href !== fav.url) {\n      continue;\n    }\n    checkFavorite = element.lastElementChild.lastElementChild.href === fav.url;\n  }\n  if (checkFavorite) {\n    hiddenSpan.classList.add('favorite');\n    spanAdd.innerHTML = 'Remove from favorite';\n  } else {\n    hiddenSpan.classList.remove('favorite');\n    spanAdd.innerHTML = 'Add to favorite';\n  }\n});\n\nlet newLocalStorage = [];\n\nfunction isLocalEmpty() {\n  if (JSON.parse(localStorage.getItem('favoriteCards')) === null) {\n    newLocalStorage = [];\n    return;\n  }\n  newLocalStorage = JSON.parse(localStorage.getItem('favoriteCards'));\n}\nisLocalEmpty();\n\nfunction btnAddToFavorite(event) {\n  const btn = event.target.closest('.card-news__btn-like');\n  const text = btn.querySelector('.card-news__add-to-favorite-btn');\n  if (!btn) return;\n  isLocalEmpty();\n\n  if (!btn.classList.contains('favorite')) {\n    btn.classList.add('favorite');\n    text.textContent = 'Remove from favorite';\n    addToFavoriteLocal(btn);\n    return;\n  }\n  btn.classList.remove('favorite');\n  text.textContent = 'Add to favorite';\n  let title = btn.nextElementSibling.firstElementChild.textContent;\n  for (let i = 0; i < newLocalStorage.length; i += 1) {\n    if (newLocalStorage[i].headline === title) {\n      newLocalStorage.splice(i, 1);\n    }\n  }\n  localStorage.setItem('favoriteCards', JSON.stringify(newLocalStorage));\n}\n\nfunction addToFavoriteLocal(btn) {\n  const favoriteCards = {\n    headline: btn.nextElementSibling.firstElementChild.textContent,\n    abstract: btn.nextElementSibling.lastElementChild.textContent,\n    category: btn.previousElementSibling.innerHTML,\n    pub_date:\n      btn.nextElementSibling.nextElementSibling.firstElementChild.innerText,\n    photo: btn.previousElementSibling.previousElementSibling.currentSrc,\n    url: btn.nextElementSibling.nextElementSibling.lastElementChild.href,\n    favorite: 'true',\n  };\n  for (let i = 0; i < newLocalStorage.length; i += 1) {\n    if (newLocalStorage[i].url === favoriteCards.url) return;\n  }\n\n  newLocalStorage.push(favoriteCards);\n  localStorage.setItem(`favoriteCards`, JSON.stringify(newLocalStorage));\n}\n"],"names":["$5e89b81646f0a520$export$2555d8523cd97054","arr","map","array","photo","category","headline","abstract","pub_date","url","join","$04f4de9888071cab$var$dateListEl","document","querySelector","$04f4de9888071cab$var$readListSearchEl","$04f4de9888071cab$var$readFormEl","$04f4de9888071cab$var$readInputEl","$04f4de9888071cab$var$undefinedImages","$04f4de9888071cab$var$localData","JSON","parse","localStorage","getItem","$04f4de9888071cab$var$sortDate","callback","groupByDate","objectEl","key","push","$04f4de9888071cab$var$sortDateReadMore","style","display","$04f4de9888071cab$var$arrLocal","dayRead","markupBlockDate","date","Object","keys","innerHTML","dateListItem","querySelectorAll","textDate","dateArr","sortDate1","milliseconds","forEach","element","dateParts","split","Date","getTime","sort","a","b","newDate","reverseDateString","getDate","toString","padStart","getMonth","getFullYear","index","length","lastItem","parentNode","appendChild","index1","firstItem","prepend","$04f4de9888071cab$var$sortItem","addEventListener","event","btn","target","closest","iconDate","iconsDate","listNews","nextElementSibling","classList","contains","add","lastElementChild","remove","Array","from","filter","list","elem","toggle","icon","preventDefault","value","trim","$04f4de9888071cab$var$newArrForMarkupSearch","inputValue","toLowerCase","i","iteration","includes","$04f4de9888071cab$var$createMarkupLoad","$04f4de9888071cab$var$btnAddToFavorite","spanAdd","hiddenSpan","localFavorite","checkFavorite","fav","href","$04f4de9888071cab$var$newLocalStorage","$04f4de9888071cab$var$isLocalEmpty","text","textContent","favoriteCards","firstElementChild","previousElementSibling","innerText","currentSrc","favorite","setItem","stringify","$04f4de9888071cab$var$addToFavoriteLocal","title","splice"],"version":3,"file":"read.9878884a.js.map"}